(this["webpackJsonpgesture-cards-stack"]=this["webpackJsonpgesture-cards-stack"]||[]).push([[0],{167:function(e,t){},299:function(e,t,n){e.exports={container:"styles_container__d38tt",deck:"styles_deck__2tlNI"}},390:function(e,t){},392:function(e,t){},434:function(e,t){},436:function(e,t){},469:function(e,t){},470:function(e,t){},475:function(e,t){},477:function(e,t){},484:function(e,t){},503:function(e,t){},565:function(e,t,n){},566:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(41),r=n.n(s),o=n(4),i=n(16),l=n(2),u=n(3),d=n(31),j=n(173),b=n.p+"static/media/thumbs-down-crop.b59f6f3d.svg",f=n.p+"static/media/thumbs-up-crop.4309aff7.svg",v=n(5);function m(e){var t=e.addSheetItem,n=e.name;return Object(v.jsx)("div",{className:"mx-4 AddName",children:Object(v.jsxs)("button",{className:"h-8 px-2 border border-gray-400 rounded ",onClick:function(e){t({name:n,yesOrNo:"YES"})},children:['Add "',n,'"']})})}var x=n(569),h=(n(175),function(e){var t=e.options,n=e.handleSearch;e.value;console.log("options",t);var c=t.map((function(e){return e.value.toUpperCase()}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(x.a,{options:t,style:{width:200},onSearch:function(e){var t=!c.includes(e.toUpperCase());n({isNotListed:t,searchText:e})},placeholder:"Search",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})})}),O=n(97),p=n(298),g=function(e,t){return["perspective(1500px)","rotateY(".concat(e/10,"deg)"),"rotateZ(".concat(e,"deg)"),"scale(".concat(t,")")].join(" ")};var N=function(e){console.log("DECK props",e),e.cardInfo;var t=Object(c.useContext)(F),n=t.contextDict,a=t.dispatchUpdateEvent,s=(n.names,n.propsDict),r=n.access_token,o=Object(c.useState)((function(){return new Set})),i=Object(u.a)(o,1)[0];Object(c.useEffect)((function(e){}),[e.cardInfo.name]);var d=Object(O.useSprings)(1,(function(e){return{immediate:!0,initial:null,to:{x:0,y:0},from:{x:0,y:0}}})),j=Object(u.a)(d,2),b=j[0],f=j[1],m=Object(p.useDrag)((function(t){var n=Object(u.a)(t.args,1)[0],c=t.active,s=Object(u.a)(t.movement,1)[0],o=Object(u.a)(t.direction,1)[0],l=Object(u.a)(t.velocity,1)[0];e.cardInfo.Name;if(!c&&l>.2){i.add(n);var d=1===o?"YES":-1===o?"NO":null;a("UPDATE",{key:e.cardInfo.Name,value:d,access_token:r})}f.start((function(e){if(n===e){var t=i.has(n);return{x:t?(200+window.innerWidth)*o:c?s:0,rot:s/100+(t?10*o*l:0),scale:c?1.1:1,delay:void 0,config:{friction:50,duration:t?null:200,tension:c?800:t?2e4:500}}}})),c||1!==i.size||setTimeout((function(){i.clear(),f.start((function(e){return{x:0,rot:0,scale:1,y:0,delay:0}}))}),600)})),x=function(t){var n=null===e||void 0===e?void 0:e.cardInfo;console.log("info",n);var c=n.wikiExtractHtml||"";return c=c.replaceAll("\\n","").replaceAll('\\"','"'),console.log("html",c),Object(v.jsxs)("div",{className:"Card",children:[Object(v.jsx)("div",{className:"pt-4 text-sm extract_html",dangerouslySetInnerHTML:{__html:c}}),Object(v.jsx)("div",{className:"p-4",children:Object(v.jsxs)("table",{className:"w-full",children:[Object(v.jsx)("thead",{}),Object(v.jsx)("tbody",{children:Object.keys(s).map((function(e){return n[s[e]]&&Object(v.jsxs)("tr",{className:"brder",children:[Object(v.jsx)("td",{className:"w-px p-1 brder whitespace-nowrap",children:e}),Object(v.jsx)("td",{className:["p-1 text-center brder",s[e]].join(" "),children:n[s[e]]})]},[t,e].join("-"))}))})]})})]})};return Object(v.jsx)(v.Fragment,{children:b.map((function(t,n){var c=t.x,a=t.y;return Object(v.jsx)(O.animated.div,{className:"flex items-center justify-center overflow-hidden zabsolute deck w-72 h-96",style:{x:c,y:a},children:Object(v.jsxs)(O.animated.div,Object(l.a)(Object(l.a)({},m(n)),{},{style:{transform:Object(O.to)([0,1],g)},className:"flex flex-col items-center w-full h-full overflow-hidden bg-white border border-gray-400 rounded-lg ustify-center",children:[Object(v.jsx)("div",{className:"flex flex-col justify-center w-full h-20 text-center bg-gray-200",children:Object(v.jsx)("h2",{className:"CardName",children:e.cardInfo.Name})}),Object(v.jsx)("div",{className:"w-full h-full p-4 mb-4 overflow-scroll text-sm select-none",children:x(e.cardInfo.name)})]}))},n)}))})},w=n(129),y=n.n(w),k=n(172),S="482074946800-se9e3d3slh5nv11q6j75h4tb3co577jg.apps.googleusercontent.com";var A=function(){var e=Object(c.useContext)(F),t=(e.contextDict,e.dispatchUpdateEvent);return k.a.load("client:auth2",(function(){k.a.client.init({clientId:S,scope:"https://www.googleapis.com/auth/spreadsheets"}).then((function(e){console.log("x",e)}))})),Object(v.jsx)("div",{id:"signInButton",children:Object(v.jsx)(y.a,{clientId:S,buttonText:"Login",render:function(e){return Object(v.jsx)("button",{onClick:e.onClick,disabled:e.disabled,children:"Login"})},onSuccess:function(e){var n,c;console.log("success res",e),console.log("res",e);var a=null===e||void 0===e||null===(n=e.profileObj)||void 0===n?void 0:n.givenName,s=null===e||void 0===e||null===(c=e.tokenObj)||void 0===c?void 0:c.access_token;console.log("access_token",s),t("LOGIN",{access_token:s,loginName:a})},onFailure:function(e){console.log("fail res",e)},cookiePolicy:"single_host_origin"})})};var I=function(){var e=Object(c.useContext)(F),t=e.contextDict,n=(e.dispatchUpdateEvent,t.loginName);return Object(v.jsx)("div",{id:"signOutButton",children:Object(v.jsx)(y.a,{clientId:"482074946800-se9e3d3slh5nv11q6j75h4tb3co577jg.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(e){console.log("logged out res",e)},render:function(e){return Object(v.jsx)("button",{onClick:e.onClick,disabled:e.disabled,children:n})}})})};var E=function(e){var t=Object(c.useContext)(F),n=t.contextDict;t.dispatchUpdateEvent,console.log("contextDict",n);var a=n.loginName;return Object(v.jsx)("div",{className:"flex justify-end text-sm",children:a?Object(v.jsx)(I,{}):Object(v.jsx)(A,{})})},C=n(570),T=function(e){var t=e.options,n=e.handleChange,c=e.value;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(C.a.Group,{defaultValue:t[0],buttonStyle:"solid",onChange:n,value:c,children:t.map((function(e){return Object(v.jsx)(C.a.Button,{value:e,children:Object(v.jsx)("div",{className:"w-16",children:e})},e)}))})})},Y="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDfF5sWVoWK+oa6\n7xIdrmUBJn6w3RFjjwqQOYMh7AzKTsbcOfryZJlhqh5ykxyPu9BD4xAY5CFJu7fM\nauFasYZbo/FSqRhzgokDKTcZUpg9oY0odmmZPYMd6yjEh7SAyOXB9Ohb4/T5jMHQ\nlg5BzZ4VTNNWJjQxyFpJTRNxzfJRtty5qfBFPL3cyED5ihHSz24/xJ2k/JtScY7E\n6MxqJNrPR/Yw2Y8Th98BLbeRYBecxX7/zqgt24dmiIbK3wzKX2wng4YQMb3ofdz7\n+GcMA9VILw6jLlreXmU0/UfITQT/FmNTvxzpVZ7c6zjsYzK8u6/se69rnPZDNbNc\nZyGKMPZtAgMBAAECggEABDhw8Clp3wO3TyEHtt+zkc6AdhMbPvFtUeYso2nQ93Yp\nupqEM1gQ3hv29dRE+uPNiwM9gjhf+Cz2ILFi8FwhvmkUadZrcSqmhz9H3LxHHLS0\n3sTtYX9G6ZF8f3SmcbXwlsyYer3jcWHRfC3ijinNfvn+7jHMf1FFgqkpIC2KaIj5\nNYb1L/9L5dY6qVKuA8rrbAAat6OAp/BmE+V3cYUqh2nZnKQgSr2vyvcv6sqSTpJh\nYbGrENXbeCxhlUwYslduIaak1eHDZxGZqUl7a2MbE/GLl1olLRIIo56ZpYqg93u2\nSNjIfQzVoWaiH+XQ7y/pICD4fxa/taLdqTrxu+L6BwKBgQDv3rCsYv5AMIg3cFBd\nfHJvWpoMArMV3fRIDEMkmvO1xntYXcVTJs5t7spY5iwRZ1uSt8rTX9KCPtm7RQzF\nNoe6xEKkiU8iNs8T4Mw0iBrfmrrZzwWzZdSs9IyTxUpSNK2ni/z9WfXFYxbvEnCD\nfYQuRxKgAStRyzzMtpy7JlpwzwKBgQDuGBdvh25QA21TTqcIywmjEBL8Ove6orHs\nzrJjFr+1YaUSCjG9cvmL6shcx82OSIsSkV+pM9hvPqICVzBVC78X0bKM9+C5vLHE\nNVTdk3Wl7pKe17kvFVDTaBG8jSg91NV1W9MN3yV7V24t3fPAayAttEHNo8tmPST9\n5CAqRUUcAwKBgBOU1EteUW8gBx6vdoALNrRMayLr3X69fcGb7qdAVwDR0SPnk8Iz\n+soSokYblCFflKQniNE0k1S6mL+m5WH8D5x5hQ81flZGryTqRwFK0xbJ5NL/CXIZ\nsADmfctaYbTQRBTXYrGz9FJGwoqFsNWrG21DtAuHzOeCddYoWicU/HEVAoGAHIiK\nlnUWhURD3833OpiKiR4uCEhQ0+8Xf5etzS42v1f6XlUWbOvQeDIk3Omc+sY61HjT\njAWIlJxe8gTc5/RGbGZXDYnPRrMUYr05dGxtlvsmWx7jNH9LdmpsZbpM7kwJYM0m\nV+08IrHxpFGLGq475v5JPIm6oIAHZN3n9OjkRV0CgYEAu7CFnBK+7E8f5Q41usrI\nCOkO4bG746+Td2ROlcXdlbeyb/ZLGlUuW+iuRaGMfneIewy5w6fjoyPTJLl1NhGV\nU252brzfL566Hhr/kW8tqApScMVUbLNCRLSREfnkvCwA6Pmwv5W/NYTm/zmDo2mB\nlvcM6nmnqLuPG4kw6mA+H4Y=\n-----END PRIVATE KEY-----\n",U="flashcardsserviceaccount@flashcards-290716.iam.gserviceaccount.com",L="15488X0n6WmgSafYLz58oVa8pTSY1HyJKjNhf-Jaonus",D=n(299),B=n.n(D);var R=n(378).GoogleSpreadsheet,M=["Jennifer","John"];function z(){return(z=Object(d.a)(Object(i.a)().mark((function e(){var t,n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new R(L),console.log("doc",t),e.next=4,t.useServiceAccountAuth({client_email:U,private_key:Y});case 4:return e.next=6,t.loadInfo();case 6:return n=t.sheetsByTitle.votes,e.next=9,n.getRows();case 9:return c=e.sent,console.log("rows",c),e.abrupt("return",{sheet:n,rows:c});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G={Pronounced:"Phonetic",Meaning:"Meaning",Origin:"Origin",Nickname:"Nickname",Popularity:"Rank IE",Quantile:"percentile",Notable:"Notable"},F=a.a.createContext({propsDict:G});function P(){var e,t=Object(c.useState)(0),n=Object(u.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)({}),x=Object(u.a)(r,2),O=x[0],p=x[1],g=Object(c.useState)(M[1]),w=Object(u.a)(g,2),y=w[0],k=w[1],S=Object(c.useState)([]),A=Object(u.a)(S,2),I=A[0],C=A[1],Y=Object(c.useState)([]),U=Object(u.a)(Y,2),L=U[0],D=U[1],R=Object(c.useState)(!1),P=Object(u.a)(R,2),K=P[0],V=P[1],q=Object(c.useState)(""),H=Object(u.a)(q,2),J=H[0],Q=H[1],Z=null!==(e=Object.keys(O))&&void 0!==e?e:[],W=null===Z||void 0===Z?void 0:Z[a],_=(Object.values(O).map((function(e){return e.NumberBirths})),O[Z[a]]);Object(c.useEffect)((function(){var e=function(e){var t=window.location.hash;if(t){var n=new URLSearchParams(t.slice(1));return null===n||void 0===n?void 0:n.get(e)}}("user")||M[1];k(e),console.log("user",e),function(){return z.apply(this,arguments)}().then((function(t){var n=t.sheet,c=t.rows.filter((function(t){return console.log("x[user]",t[e]),!t[e]||0===t[e].length}));console.log("newRows",c),C(c),D(n);var a={};c.forEach((function(e){a[e.Name]=Object(l.a)({},e)})),p(a),te((function(e){return Object(l.a)(Object(l.a)({},e),{},{givenNames:Object(l.a)({},O)})}))}))}),[y]);var X=Object(c.useState)({names:Z,propsDict:G,activeIndex:a,activeName:W,cardInfo:_,userName:""}),$=Object(u.a)(X,2),ee=$[0],te=$[1],ne=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t){var n,c,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,c=t.value,console.log(" - updateSheetValues - ",n,y,c),(a=I.find((function(e){return e.Name===n})))[y]=c,e.next=6,a.save();case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t){var n,c,a,s,r,l,u,d,j,b;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.name,a=t.meaning,s=void 0===a?"":a,r=t.nicknames,l=void 0===r?"":r,u=t.origin,d=void 0===u?"":u,j=t.yesOrNo,n={Name:c},Object(o.a)(n,y,j),Object(o.a)(n,"Meaning",s),Object(o.a)(n,"Nickname",l),Object(o.a)(n,"Origin",d),Object(o.a)(n,"Added By",y),b=n,L.addRow(b),Q("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e,t){var n=t.key,c=(t.prop,t.value),a=t.loginName,r=t.access_token;switch(e){case"LOGIN":return void te((function(e){return console.log("ps",e),Object(l.a)(Object(l.a)({},e),{},{access_token:r,loginName:a})}));case"SET_USER":var o=t.userName;return console.log("userName",o),k(o),void te((function(e){return console.log("ps",e),Object(l.a)(Object(l.a)({},e),{},{activeUser:o})}));case"UPDATE":return console.log("AppContext",F),console.log("AppContext",F.current),ne({key:n,userName:o,value:c}),void s((function(e){return e+1}));default:return}};return Object(v.jsx)(F.Provider,{value:{contextDict:ee,dispatchUpdateEvent:ae},children:Object(v.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(v.jsxs)("header",{className:"text-center",children:[Object(v.jsxs)("div",{id:"login-wrapper",className:"m-2",children:[Object(v.jsx)(E,{}),Object(v.jsx)(T,{options:M,value:y,handleChange:function(e){var t=e.target.value;ae("SET_USER",{userName:t})}})]}),Object(v.jsx)("div",{}),Object(v.jsxs)("div",{className:"flex items-start justify-center m-8",children:[Object(v.jsx)(h,{handleSearch:function(e){var t=e.isNotListed,n=e.searchText;console.log("isNotListed, searchText",t,n),V(t),Q(n)},options:Z.slice(0).sort().map((function(e){return{value:e}}))}),K&&(null===J||void 0===J?void 0:J.length)&&Object(v.jsx)(m,{addSheetItem:ce,name:J})]})]}),Object(v.jsx)("main",{className:"h-full",children:Object(v.jsx)("div",{id:"App",className:"flex overflow-hidden h-full items-center justify-center ".concat(B.a.container),children:Object(v.jsxs)("div",{id:"Deck-wrapper",className:"flex items-end justify-between w-full",children:[Object(v.jsx)("div",{className:"w-12 h-12 m-4",children:Object(v.jsx)("img",{src:b,onClick:function(){return ae("UPDATE",{key:_.Name,userName:y,value:"NO"})}})}),_&&Object(v.jsx)(N,{cardInfo:_}),Object(v.jsx)("div",{className:"w-12 h-12 m-4",children:Object(v.jsx)("img",{src:f,onClick:function(){return ae("UPDATE",{key:_.Name,userName:y,value:"YES"})}})})]})})}),Object(v.jsx)("footer",{children:Object(v.jsxs)("div",{id:"counter-wrapper",className:"flex items-center self-end w-full h-24 stats justify-evenly",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(j.b,{})," ",Object(v.jsx)("span",{className:"p-1 text-xs"})]}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsxs)("div",{className:"flex w-6 deck-of-cards",children:[Object(v.jsx)("div",{className:"absolute w-4 h-5 translate-x-2 bg-white rounded icon-border"}),Object(v.jsx)("div",{className:"absolute w-4 h-5 translate-x-1 bg-white rounded icon-border"}),Object(v.jsx)("div",{className:"z-10 w-4 h-5 bg-white rounded icon-border"})]}),Object(v.jsx)("span",{className:"p-1 text-xs"})]}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(j.a,{}),Object(v.jsx)("span",{className:"p-1 text-xs"})]})]})})]})})}n(565);r.a.render(Object(v.jsx)(P,{}),document.getElementById("root"))}},[[566,1,2]]]);
//# sourceMappingURL=main.a2c1e32b.chunk.js.map